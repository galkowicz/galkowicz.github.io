(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/squirrel.8f334af2.jpg"},134:function(e,t,a){e.exports=a(262)},139:function(e,t,a){},140:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),o=(a(139),a(30)),c=a(31),h=a(34),l=a(32),p=a(33),u=a(8),d=(a(140),a(113)),v=a.n(d),g=a(267),b=a(270),m=a(269),f=a(126),O=a(268),j=a(36),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(l.a)(t).call(this,e))).onDragStart=a.onDragStart.bind(Object(u.a)(Object(u.a)(a))),a.state={isDragStarted:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onDragStart",value:function(e){var t=window.getComputedStyle(e.currentTarget,null),a=t.getPropertyValue("left"),n=t.getPropertyValue("top");e.dataTransfer.setData("text/plain","".concat(parseInt(a,10)-e.clientX,",").concat(parseInt(n,10)-e.clientY)),this.setState({isDragStarted:!0})}},{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.src;return a?r.a.createElement("div",{className:"draggable-shape",draggable:!0,onDragStart:this.onDragStart,id:"cropped"},r.a.createElement(j.a,{name:"times",onClick:t,className:"icon",size:"large"}),r.a.createElement("img",{src:a,alt:""})):null}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(l.a)(t).call(this,e))).resetShape=a.resetShape.bind(Object(u.a)(Object(u.a)(a))),a.cropShape=a.cropShape.bind(Object(u.a)(Object(u.a)(a))),a.draw=a.draw.bind(Object(u.a)(Object(u.a)(a))),a.onMouseDown=a.onMouseDown.bind(Object(u.a)(Object(u.a)(a))),a.onMouseUp=a.onMouseUp.bind(Object(u.a)(Object(u.a)(a))),a.onMouseMove=a.onMouseMove.bind(Object(u.a)(Object(u.a)(a))),a.setPoints=a.setPoints.bind(Object(u.a)(Object(u.a)(a))),a.drawImage=a.drawImage.bind(Object(u.a)(Object(u.a)(a))),a.state={shape:[],draw:!1,croppedSrc:null},a.canvasWidth=640,a.canvasHeight=425,a.points={prevX:0,currX:0,prevY:0,currY:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.image.onload=function(){e.drawImage()}}},{key:"render",value:function(){var e=this.props.imageSrc,t=this.state.shape[this.state.shape.length-1];return r.a.createElement("div",null,r.a.createElement("canvas",{ref:"canvas",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,className:"image-crop-canvas",width:this.canvasWidth,height:this.canvasHeight}),r.a.createElement("img",{ref:"image",src:e,className:"hidden",alt:""}),r.a.createElement(w,{onClose:this.resetShape,src:this.state.croppedSrc,initialPosition:t}),r.a.createElement(O.a,{onClick:this.resetShape,className:"reset-button"},"Reset"))}},{key:"resetShape",value:function(){this.setState({shape:[],croppedSrc:null}),this.clearCrop()}},{key:"onMouseMove",value:function(e){this.state.draw&&(this.setPoints(e),this.draw())}},{key:"onMouseDown",value:function(e){this.setState({draw:!0}),this.start=!0,this.setPoints(e)}},{key:"setPoints",value:function(e){var t=this.refs.canvas;this.points.prevX=this.points.currX,this.points.prevY=this.points.currY,this.points.currX=parseInt(e.clientX-t.offsetLeft),this.points.currY=parseInt(e.clientY-t.offsetTop),this.setState({shape:[].concat(Object(f.a)(this.state.shape),[{x:this.points.currX,y:this.points.currY}])})}},{key:"onMouseUp",value:function(){var e=this.points.currX-this.state.shape[0].x,t=this.points.currY-this.state.shape[0].y;e*e+t*t<1e3?this.cropShape():this.resetShape(),this.setState({draw:!1})}},{key:"draw",value:function(){var e=this.refs.canvas.getContext("2d"),t=this.points,a=t.currX,n=t.currY,r=t.prevX,s=t.prevY;e.beginPath(),e.moveTo(r,s),e.lineTo(a,n),e.strokeStyle="black",e.lineWidth=2,e.stroke(),e.closePath()}},{key:"clearCrop",value:function(){this.refs.canvas.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawImage()}},{key:"cropShape",value:function(){for(var e=this.refs.canvas,t=e.getContext("2d"),a=this.refs.image,n=this.state.shape,r=1e4,s=1e4,i=-1e4,o=-1e4,c=1;c<n.length;c++){var h=n[c];h.x<r&&(r=h.x),h.y<s&&(s=h.y),h.x>i&&(i=h.x),h.y>o&&(o=h.y)}var l=i-r,p=o-s;t.save(),t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var u=1;u<n.length;u++)t.lineTo(n[u].x,n[u].y);t.closePath(),t.clip(),t.drawImage(a,0,0),t.restore();var d=document.createElement("canvas"),v=d.getContext("2d");d.width=l,d.height=p,v.drawImage(e,r,s,l,p,0,0,l,p),this.setState({croppedSrc:d.toDataURL()}),this.drawImage(),t.fillStyle="grey",t.fill()}},{key:"drawImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.refs.canvas.getContext("2d"),a=this.refs.image;t.clearRect(0,0,this.canvasWidth,this.canvasHeight),t.globalAlpha=e,t.drawImage(a,0,0),t.globalAlpha=1}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(l.a)(t).call(this,e))).handleDragOver=a.handleDragOver.bind(Object(u.a)(Object(u.a)(a))),a.handleDrop=a.handleDrop.bind(Object(u.a)(Object(u.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App",onDragOver:this.handleDragOver,onDrop:this.handleDrop},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement(m.a,{as:"h1"},"Please draw a path to create a puzzle piece")),r.a.createElement(y,{imageSrc:v.a})))}},{key:"handleDragOver",value:function(e){return e.preventDefault(),!1}},{key:"handleDrop",value:function(e){var t=document.getElementById("cropped"),a=e.dataTransfer.getData("text/plain").split(",");return t.style.left=e.clientX+parseInt(a[0],10)+"px",t.style.top=e.clientY+parseInt(a[1],10)+"px",e.preventDefault(),!1}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(261);i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,1,2]]]);
//# sourceMappingURL=main.82c5d4ec.chunk.js.map