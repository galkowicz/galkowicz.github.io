(this["webpackJsonpstart-wars-social"]=this["webpackJsonpstart-wars-social"]||[]).push([[0],{150:function(e,t,a){e.exports=a(282)},155:function(e,t,a){},157:function(e,t,a){},171:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(0),l=a.n(s),i=a(21),o=a.n(i),u=(a(155),a(156),a(297)),m=a(295),p=(a(157),a(33)),d=a(15),f=a(137),v=a(289),b=a(292),j=a(296),E=a(294),h=a(290),O=a(31),g=(a(171),function(e){var t=e.name,a=e.isFavorite,n=e.isSelected,r=e.onFavoriteClick,c=e.isWithFavorite,s=e.index,i=e.onItemSelected,o=e.favoriteAmount,u=void 0===o?0:o,m=a?"star":"star outline",p=a?"yellow":"black",d=n?"selected":"";return l.a.createElement("div",{className:"list-item ".concat(d),onClick:i},l.a.createElement("span",{className:"list-item__name"},t),c&&l.a.createElement("div",{className:"list-item__icon",onClick:function(e){r(s),e.stopPropagation()}},l.a.createElement(O.a,{name:m,color:p})),l.a.createElement("div",{className:"favorite-amount",style:{float:"right",paddingRight:"25px"}},u?"(".concat(u,")"):""))}),w=a(19),y=a.n(w),k=a(138),x=a(25),C="https://swapi.dev/api",S=function(e){var t=[],a=function(){var e=Object(x.a)(y.a.mark((function e(n){var r,c,s,l,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",Promise.resolve({data:t}));case 2:return e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,l=s.results,i=s.next,(r=t).push.apply(r,Object(k.a)(l)),e.abrupt("return",a(i&&i.replace("http","https")));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t=[],a(e)},F=function(){var e=Object(x.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.peopleUrlArray,e.next=3,Promise.all(n.map(function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=a(23),N=Object(I.c)({name:"general",initialState:{selectedItem:null},reducers:{setSelectedItem:function(e,t){e.selectedItem=t.payload}}}),P=N.actions.setSelectedItem,U=function(e){return e.general.selectedItem||{}},A=N.reducer,L=a(20),R=a(92),H=Object(I.b)("people/fetchPeople",Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat(C,"/people/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),T=Object(I.c)({name:"people",initialState:{people:[],favorites:{},status:"idle",error:null},reducers:{addToFavorites:function(e,t){var a=t.payload,n=a.favUrl,r=a.name;e.favorites=Object(R.a)({},e.favorites,Object(L.a)({},n,r))},removeFromFavorites:function(e,t){var a=t.payload.favUrl;e.favorites=Object(R.a)({},e.favorites,Object(L.a)({},a,!1))}},extraReducers:(n={},Object(L.a)(n,H.pending,(function(e){e.status="loading"})),Object(L.a)(n,H.fulfilled,(function(e,t){e.status="succeeded",e.people=e.people.concat(t.payload)})),Object(L.a)(n,H.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),n)}),W=T.actions,_=W.addToFavorites,q=W.removeFromFavorites,M=function(e){return e.people},B=function(e){return e.people.favorites},J=T.reducer,z=function(e){var t=e.items,a=void 0===t?[]:t,n=e.listHeader,r=void 0===n?"":n,c=e.onFavoriteClick,s=void 0!==c&&c,i=e.status,o=Object(d.c)(U),m=Object(d.c)(B),O=Object(d.b)(),w=l.a.useState(""),y=Object(p.a)(w,2),k=y[0],x=y[1],C=l.a.useState(a),S=Object(p.a)(C,2),F=S[0],I=S[1],N="function"===typeof s,A="succeeded"===i||"failed"===i;l.a.useEffect((function(){var e;e=""!==k?a.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})):a,I(e)}),[a,k]);return l.a.createElement(v.a,{style:{marginTop:"2em",cursor:"default"}},l.a.createElement(u.a,{as:"h2"},r),l.a.createElement(b.a,{onChange:function(e){x(e.currentTarget.value)},placeholder:"Search..."}),l.a.createElement(j.a,{style:{height:"16rem"}},A?l.a.createElement(f.a,{rowRenderer:function(e){var t=e.key,a=e.index,n=e.style,r=F[a],c=r.name,i=r.url,u=m[i],p=o&&i===o.url,d=function(e,t){var a=[];return e.residents&&(a=e.residents),e.people&&(a=e.people),a.reduce((function(e,a){return t[a]&&(e+=1),e}),0)}(F[a],m);return l.a.createElement("div",{key:t,style:n},l.a.createElement(g,{name:c,isFavorite:u,isSelected:p,index:a,onItemSelected:function(){O(P(F[a]))},onFavoriteClick:function(){s({favUrl:F[a].url,name:F[a].name})},isWithFavorite:N,favoriteAmount:d}))},rowCount:F.length,width:300,height:200,rowHeight:20}):l.a.createElement(E.a,{active:!0,inverted:!0},l.a.createElement(h.a,{indeterminate:!0},"Loading List"))))},D=Object(I.b)("planets/fetchPlanets",Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat(C,"/planets/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),$=Object(I.c)({name:"planets",initialState:{planets:[],status:"idle",error:null},extraReducers:(r={},Object(L.a)(r,D.pending,(function(e){e.status="loading"})),Object(L.a)(r,D.fulfilled,(function(e,t){e.status="succeeded",e.planets=e.planets.concat(t.payload)})),Object(L.a)(r,D.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),r)}),G=function(e){return e.planets},K=$.reducer,Q=Object(I.b)("species/fetchSpecies",Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat(C,"/species/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),V=Object(I.c)({name:"species",initialState:{species:[],status:"idle",error:null},extraReducers:(c={},Object(L.a)(c,Q.pending,(function(e){e.status="loading"})),Object(L.a)(c,Q.fulfilled,(function(e,t){e.status="succeeded",e.species=e.species.concat(t.payload)})),Object(L.a)(c,Q.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),c)}),X=function(e){return e.species},Y=V.reducer,Z=a(291),ee=function(){var e=Object(d.c)(B);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"Favorite People:"),l.a.createElement(Z.a,{className:"favorites-list"},Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement(Z.a.Item,{key:a},n)}))))},te=function(){var e=Object(d.c)(U);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"Selected Item:"),e&&l.a.createElement(Z.a,{className:"favorites-list"},Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement(Z.a.Item,{key:a},l.a.createElement(Z.a.Content,null,l.a.createElement(Z.a.Header,null,a),l.a.createElement(Z.a.Description,null,n)))}))))},ae=a(134),ne=function(){var e=Object(d.c)(U)||{},t=e.url&&e.url.includes("people"),a=l.a.useMemo((function(){return function(e){var t=[];return e.residents&&(t=e.residents),e.people&&(t=e.people),t}(e)}),[e]),n=Object(ae.a)([e.url,{peopleUrlArray:a}],F,{staleTime:1/0}),r=n.isLoading,c=n.data,s=void 0===c?[]:c;return t?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"".concat(e.name||""," Characters:")),l.a.createElement(j.a,{style:{height:"20rem"}},l.a.createElement(Z.a,{className:"items-people-list"},r&&l.a.createElement(E.a,{active:!0,inverted:!0},l.a.createElement(h.a,{indeterminate:!0},"Loading List")),s.map((function(e){return l.a.createElement(Z.a.Item,{key:e.url},e.name)})))))};var re=function(){var e=Object(d.c)(B),t=Object(d.c)(M),a=t.people,n=t.status,r=Object(d.c)(G),c=r.planets,s=r.status,i=Object(d.c)(X),o=i.species,p=i.status,f=Object(d.b)();return l.a.createElement("div",{className:"App",style:{paddingTop:"4em"}},l.a.createElement(u.a,{as:"h1",textAlign:"center"},"Star Wars Social Media"),l.a.createElement(m.a,{columns:"equal",container:!0,stackable:!0},l.a.createElement(m.a.Row,{columns:"equal"},l.a.createElement(m.a.Column,null,l.a.createElement(z,{items:a,status:n,listHeader:"People",onFavoriteClick:function(t){var a,n=t.favUrl,r=t.name;e[(a={favUrl:n,name:r}).favUrl]?f(q(a)):f(_(a))}})),l.a.createElement(m.a.Column,null,l.a.createElement(z,{items:c,status:s,listHeader:"Plants"})),l.a.createElement(m.a.Column,null,l.a.createElement(z,{items:o,status:p,listHeader:"Species"}))),l.a.createElement(m.a.Row,{columns:"equal"},l.a.createElement(m.a.Column,null,l.a.createElement(te,null)),l.a.createElement(m.a.Column,null,l.a.createElement(ne,null)),l.a.createElement(m.a.Column,null,l.a.createElement(ee,null)))))},ce=a(135),se=a(22),le=a(29),ie=a(136),oe=a.n(ie),ue=Object(se.c)({people:J,planets:K,species:Y,general:A}),me={key:"root",version:1,storage:oe.a},pe=Object(le.g)(me,ue),de=Object(I.a)({reducer:pe,middleware:Object(I.d)({serializableCheck:{ignoredActions:[le.a,le.f,le.b,le.c,le.d,le.e]}})}),fe=Object(le.h)(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));de.dispatch(H()),de.dispatch(D()),de.dispatch(Q()),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d.a,{store:de},l.a.createElement(ce.a,{loading:null,persistor:fe},l.a.createElement(re,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.09e958b6.chunk.js.map