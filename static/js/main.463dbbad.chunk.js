(this["webpackJsonpstar-wars-search"]=this["webpackJsonpstar-wars-search"]||[]).push([[0],{141:function(e,t,n){e.exports=n(270)},146:function(e,t,n){},259:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),s=n.n(c),u=(n(146),n(147),n(279)),l=n(282),i=n(283),o=n(18),p=n(26),m=r.a.createContext({}),f=function(e){var t=e.children,n=e.appReducer,a=e.initialState,c=void 0===a?{}:a,s=e.storageKey;try{c=JSON.parse(localStorage.getItem(s))||c}catch(d){}var u=r.a.useReducer((function(e,t){var a=n(e,t);return localStorage.setItem(s,JSON.stringify(a)),Object(p.a)({},a)}),c),l=Object(o.a)(u,2),i=l[0],f=l[1],h=r.a.useMemo((function(){return[i,f]}),[i]);return r.a.createElement(m.Provider,{value:h},t)},h=function(){return r.a.useContext(m)},d=(n(60),"setAllPeople"),v="setSearchString",E="selectItem",w=function(e,t){var n=t.type,a=t.payload;switch(n){case d:var r=a.people;return Object(p.a)({},e,{people:r});case v:var c=a.searchString;return Object(p.a)({},e,{searchString:c});case E:var s=a.url,u=a.starships,l=a.name,i=a.selectedIndex;return Object(p.a)({},e,{selectedItem:{starships:u,url:s,name:l,selectedIndex:i}});default:throw new Error}},y=n(19),b=n.n(y),g=n(25),x=n(284),S=n(281),j=n(131),O=[],k=function(){var e=Object(g.a)(b.a.mark((function e(t){var n,a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.resolve(O));case 2:return e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,r=a.results,c=a.next,O.push.apply(O,Object(j.a)(r)),e.abrupt("return",k(c&&c.replace("http","https")));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.replace("http","https"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return e.map((function(e){var t=e.name,n=e.starships,a=e.url;return{name:t.toLowerCase(),starships:n,url:a,displayName:t}}))},N=function(){var e=h(),t=Object(o.a)(e,2)[1],n=r.a.useState(""),a=Object(o.a)(n,2),c=a[0],s=a[1];r.a.useEffect((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat("https://swapi.dev/api","/people/"));case 2:n=e.sent,a=C(n),t({type:d,payload:{people:a}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(x.a)((function(){t({type:v,payload:{searchString:c}})}),300,[c]);return r.a.createElement(i.a,null,r.a.createElement(i.a.Column,{width:6},r.a.createElement(S.a,{onChange:function(e){s(e.currentTarget.value)},placeholder:"Search..."})))},P=(n(259),n(129)),R=(n(269),function(){var e=h(),t=Object(o.a)(e,1)[0].selectedItem,n=t.name,a=t.starships,c=r.a.useState([]),s=Object(o.a)(c,2),u=s[0],l=s[1];return r.a.useEffect((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,I(a);case 3:t=e.sent,l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,n]),n?r.a.createElement("div",{role:"presentation",className:"ships",style:{marginLeft:"4px"}},r.a.createElement("div",null,"".concat(n,"'s startships:")),u&&r.a.createElement("ul",null,u.length>0&&u.map((function(e){return r.a.createElement("li",{key:e.url},e.name)})))):null}),A=function(e){var t=e.name,n=e.url,a=e.starships,c=e.isSelected,s=e.index,u=h(),l=Object(o.a)(u,2)[1];return r.a.createElement("div",{role:"presentation",className:"list-item ".concat(c?"selected":""),onClick:function(){l({type:E,payload:{url:n,starships:a,name:t,selectedIndex:s}})}},r.a.createElement("div",null,t),c&&r.a.createElement(R,null))},J=function(){var e=h(),t=Object(o.a)(e,1)[0],n=t.people,a=t.searchString,c=t.selectedItem,s=r.a.useState(n),i=Object(o.a)(s,2),m=i[0],f=i[1];r.a.useEffect((function(){var e;e=(e=""!==a?n.filter((function(e){return e.name.includes(a.toLowerCase())})):n).map((function(e){var t=!1;return c&&c.url===e.url&&(t=!0),Object(p.a)({},e,{isSelected:t})})),f(e)}),[a,c,n]);return r.a.createElement(u.a,{style:{marginTop:"2em"}},r.a.createElement(l.a,{as:"h2"},"Characters"),r.a.createElement(P.a,{rowRenderer:function(e){var t=e.key,n=e.index,a=e.style,c=m[n],s=c.displayName,u=c.url,l=c.starships,i=c.isSelected;return r.a.createElement("div",{key:t,style:a},r.a.createElement(A,{name:s,url:u,starships:l,isSelected:i,index:n}))},rowCount:m.length,width:300,height:300,rowHeight:function(e){var t=e.index;return c.selectedIndex===t?30*c.starships.length:30}}))},T={searchString:"",people:[],selectedItem:{name:null,starships:null,selectedIndex:-1}},W=function(){return r.a.createElement(f,{storageKey:"starWarsStore",initialState:T,appReducer:w},r.a.createElement(u.a,{style:{marginTop:"2em"}},r.a.createElement(l.a,{as:"h2"},"STAR WARS FAN APP"),r.a.createElement(i.a,{columns:2,divided:!0},r.a.createElement(i.a.Column,null,r.a.createElement(N,null),r.a.createElement(J,null)),r.a.createElement(i.a.Column,null,r.a.createElement(R,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.463dbbad.chunk.js.map