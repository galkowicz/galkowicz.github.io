(this["webpackJsonpstart-wars-social"]=this["webpackJsonpstart-wars-social"]||[]).push([[0],{153:function(e,t,a){e.exports=a(288)},158:function(e,t,a){},160:function(e,t,a){},177:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(0),l=a.n(s),i=a(21),o=a.n(i),u=(a(158),a(159),a(303)),m=a(301),p=(a(160),a(33)),d=a(15),f=a(295),v=a(298),b=a(302),h=a(300),E=a(296),j=a(129),O=a(140),g=a(31),w=(a(177),function(e){var t=e.name,a=e.isFavorite,n=e.isSelected,r=e.onFavoriteClick,c=e.isWithFavorite,s=e.index,i=e.onItemSelected,o=e.favoriteAmount,u=void 0===o?0:o,m=a?"star":"star outline",p=a?"yellow":"black",d=n?"selected":"";return l.a.createElement("div",{className:"list-item ".concat(d),onClick:i},l.a.createElement("span",{className:"list-item__name"},t),c&&l.a.createElement("div",{className:"list-item__icon",onClick:function(e){r(s),e.stopPropagation()}},l.a.createElement(g.a,{name:m,color:p})),l.a.createElement("div",{className:"favorite-amount",style:{float:"right",paddingRight:"25px"}},u?"(".concat(u,")"):""))}),y=a(20),k=a.n(y),x=a(141),C=a(25),S="https://swapi.dev/api",F=function(e){var t=[],a=function(){var e=Object(C.a)(k.a.mark((function e(n){var r,c,s,l,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",Promise.resolve({data:t}));case 2:return e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,l=s.results,i=s.next,(r=t).push.apply(r,Object(x.a)(l)),e.abrupt("return",a(i&&i.replace("http","https")));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t=[],a(e)},I=function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.peopleUrlArray,e.next=3,Promise.all(n.map(function(){var e=Object(C.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.replace("http","https"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=a(17),N=a(92),P=a(23),U=Object(P.c)({name:"general",initialState:{selectedItem:null,favorites:{}},reducers:{setSelectedItem:function(e,t){e.selectedItem=t.payload},addToFavorites:function(e,t){var a=t.payload,n=a.favUrl,r=a.name;e.favorites=Object(N.a)({},e.favorites,Object(L.a)({},n,r))},removeFromFavorites:function(e,t){var a=t.payload.favUrl;e.favorites=Object(N.a)({},e.favorites,Object(L.a)({},a,!1))}}}),A=U.actions,R=A.setSelectedItem,H=A.addToFavorites,T=A.removeFromFavorites,W=function(e){return e.general.selectedItem||{}},_=function(e){return e.general.favorites},q=U.reducer,M=function(e){var t=e.items,a=void 0===t?[]:t,n=e.listHeader,r=void 0===n?"":n,c=e.onFavoriteClick,s=void 0!==c&&c,i=e.status,o=Object(d.c)(W),m=Object(d.c)(_),g=Object(d.b)(),y=l.a.useState(""),k=Object(p.a)(y,2),x=k[0],C=k[1],S=l.a.useState(a),F=Object(p.a)(S,2),I=F[0],L=F[1],N="function"===typeof s,P="succeeded"===i||"failed"===i;l.a.useEffect((function(){var e;e=""!==x?a.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())})):a,L(e)}),[a,x]);return l.a.createElement(f.a,{style:{marginTop:"2em",cursor:"default"}},l.a.createElement(u.a,{as:"h2"},r),l.a.createElement(v.a,{onChange:function(e){C(e.currentTarget.value)},placeholder:"Search..."}),l.a.createElement(b.a,{style:{height:"16rem"}},P?l.a.createElement(O.a,{rowRenderer:function(e){var t=e.key,a=e.index,n=e.style,r=I[a],c=r.name,i=r.url,u=m[i],p=o&&i===o.url,d=function(e,t){var a=[];return e.residents&&(a=e.residents),e.people&&(a=e.people),a.reduce((function(e,a){return t[a]&&(e+=1),e}),0)}(I[a],m);return l.a.createElement("div",{key:t,style:n},l.a.createElement(w,{name:c,isFavorite:u,isSelected:p,index:a,onItemSelected:function(){g(R(I[a]))},onFavoriteClick:function(){s({favUrl:I[a].url,name:I[a].name})},isWithFavorite:N,favoriteAmount:d}))},rowCount:I.length,width:300,height:200,rowHeight:20}):l.a.createElement(h.a,{active:!0,inverted:!0},l.a.createElement(E.a,{indeterminate:!0},"Loading List"))),P&&l.a.createElement(j.CSVLink,{data:I,filename:"".concat(r.toLowerCase(),".csv")},"Download list"))},B=Object(P.b)("people/fetchPeople",Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("".concat(S,"/people/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),D=Object(P.c)({name:"people",initialState:{people:[],favorites:{},status:"idle",error:null},extraReducers:(n={},Object(L.a)(n,B.pending,(function(e){e.status="loading"})),Object(L.a)(n,B.fulfilled,(function(e,t){e.status="succeeded",e.people=e.people.concat(t.payload)})),Object(L.a)(n,B.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),n)}),J=function(e){return e.people},z=D.reducer,V=Object(P.b)("planets/fetchPlanets",Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("".concat(S,"/planets/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),$=Object(P.c)({name:"planets",initialState:{planets:[],status:"idle",error:null},extraReducers:(r={},Object(L.a)(r,V.pending,(function(e){e.status="loading"})),Object(L.a)(r,V.fulfilled,(function(e,t){e.status="succeeded",e.planets=e.planets.concat(t.payload)})),Object(L.a)(r,V.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),r)}),G=function(e){return e.planets},K=$.reducer,Q=Object(P.b)("species/fetchSpecies",Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("".concat(S,"/species/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),X=Object(P.c)({name:"species",initialState:{species:[],status:"idle",error:null},extraReducers:(c={},Object(L.a)(c,Q.pending,(function(e){e.status="loading"})),Object(L.a)(c,Q.fulfilled,(function(e,t){e.status="succeeded",e.species=e.species.concat(t.payload)})),Object(L.a)(c,Q.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),c)}),Y=function(e){return e.species},Z=X.reducer,ee=a(297),te=function(){var e=Object(d.c)(_);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"Favorite People:"),l.a.createElement(ee.a,{className:"favorites-list"},Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement(ee.a.Item,{key:a},n)}))))},ae=function(){var e=Object(d.c)(W);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"Selected Item:"),e&&l.a.createElement(ee.a,{className:"favorites-list"},Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement(ee.a.Item,{key:a},l.a.createElement(ee.a.Content,null,l.a.createElement(ee.a.Header,null,a),l.a.createElement(ee.a.Description,null,n)))}))))},ne=a(137),re=function(){var e=Object(d.c)(W)||{},t=e.url&&e.url.includes("people"),a=l.a.useMemo((function(){return function(e){var t=[];return e.residents&&(t=e.residents),e.people&&(t=e.people),t}(e)}),[e]),n=Object(ne.a)([e.url,{peopleUrlArray:a}],I,{staleTime:1/0}),r=n.isLoading,c=n.data,s=void 0===c?[]:c;return t?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h1"},"".concat(e.name||""," Characters:")),l.a.createElement(b.a,{style:{height:"20rem"}},l.a.createElement(ee.a,{className:"items-people-list"},r&&l.a.createElement(h.a,{active:!0,inverted:!0},l.a.createElement(E.a,{indeterminate:!0},"Loading List")),s.map((function(e){return l.a.createElement(ee.a.Item,{key:e.url},e.name)})))))};var ce=function(){var e=Object(d.c)(_),t=Object(d.c)(J),a=t.people,n=t.status,r=Object(d.c)(G),c=r.planets,s=r.status,i=Object(d.c)(Y),o=i.species,p=i.status,f=Object(d.b)();return l.a.createElement("div",{className:"App",style:{paddingTop:"4em"}},l.a.createElement(u.a,{as:"h1",textAlign:"center"},"Star Wars Social Media"),l.a.createElement(m.a,{columns:"equal",container:!0,stackable:!0},l.a.createElement(m.a.Row,{columns:"equal"},l.a.createElement(m.a.Column,null,l.a.createElement(M,{items:a,status:n,listHeader:"People",onFavoriteClick:function(t){var a,n=t.favUrl,r=t.name;e[(a={favUrl:n,name:r}).favUrl]?f(T(a)):f(H(a))}})),l.a.createElement(m.a.Column,null,l.a.createElement(M,{items:c,status:s,listHeader:"Plants"})),l.a.createElement(m.a.Column,null,l.a.createElement(M,{items:o,status:p,listHeader:"Species"}))),l.a.createElement(m.a.Row,{columns:"equal"},l.a.createElement(m.a.Column,null,l.a.createElement(ae,null)),l.a.createElement(m.a.Column,null,l.a.createElement(re,null)),l.a.createElement(m.a.Column,null,l.a.createElement(te,null)))))},se=a(138),le=a(22),ie=a(29),oe=a(139),ue=a.n(oe),me=Object(le.c)({people:z,planets:K,species:Z,general:q}),pe={key:"root",version:1,storage:ue.a,blacklist:["species","people","planets"]},de=Object(ie.g)(pe,me),fe=Object(P.a)({reducer:de,middleware:Object(P.d)({serializableCheck:{ignoredActions:[ie.a,ie.f,ie.b,ie.c,ie.d,ie.e]}})}),ve=Object(ie.h)(fe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));fe.dispatch(B()),fe.dispatch(V()),fe.dispatch(Q()),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d.a,{store:fe},l.a.createElement(se.a,{loading:null,persistor:ve},l.a.createElement(ce,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[153,1,2]]]);
//# sourceMappingURL=main.ea97c984.chunk.js.map